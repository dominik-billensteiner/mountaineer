(this.webpackJsonpmountaineer=this.webpackJsonpmountaineer||[]).push([[0],{15:function(e,t,a){e.exports=a(31)},20:function(e,t,a){},21:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),i=(a(20),a(3)),s=(a(21),a(4)),l=a(2),u=function(e){var t=e.tour;return c.a.createElement("div",{className:"tour"},c.a.createElement("p",{className:"tour__title"},t.title),c.a.createElement("span",{className:"tour__property-container"},c.a.createElement("div",{className:"tour__property"},c.a.createElement(s.a,{icon:l.a}),c.a.createElement("span",null," ",t.distance," km")),c.a.createElement("div",{className:"tour__property"},c.a.createElement(s.a,{icon:l.d}),c.a.createElement("span",null," ",t.duration," h")),c.a.createElement("div",{className:"tour__property"},c.a.createElement(s.a,{icon:l.d}),c.a.createElement("span",null," ",t.ascent," hm")),c.a.createElement("div",{className:"tour__property"},c.a.createElement(s.a,{icon:l.c}),c.a.createElement("span",null," ",t.descent," hm"))))},d=a(14),m=a(7),p=a.n(m),f=a(10),v=(a(28),function(e){var t=e.list,a=e.setList,r=Object(n.useState)(""),o=Object(i.a)(r,2),m=o[0],v=o[1],h=Object(n.useState)([]),E=Object(i.a)(h,2),b=E[0],g=E[1],w=Object(n.useState)(!1),_=Object(i.a)(w,2),x=_[0],y=_[1],N=Object(n.useState)(!1),j=Object(i.a)(N,2),k=j[0],S=j[1],O=Object(n.useState)(!1),A=Object(i.a)(O,2),L=A[0],R=A[1],C=c.a.createElement("div",{className:"searchbox__results"},c.a.createElement("div",{className:"searchbox__spinner"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))),T=c.a.createElement("div",{className:"searchbox__item-wrapper"},c.a.createElement("div",{className:"item",onClick:function(e){D(e)}},c.a.createElement("span",null,"Keine Ergebnisse gefunden."))),W=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&null!==t){e.next=2;break}return e.abrupt("return");case 2:return g(""),S(!0),e.prev=4,e.next=7,fetch("http://www.outdooractive.com/api/search/?q=".concat(t,"&category=").concat("8982342",",").concat("8982359","&key=").concat("yourtest-outdoora-ctiveapi","&project=").concat("api-dev-oa","&lang=").concat("de"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 7:return a=e.sent,e.next=10,a.json();case 10:if(n=e.sent,!U(n.data)){e.next=14;break}return S(!1),e.abrupt("return");case 14:"200"===a.status.toString()?(c=[],n.data.forEach((function(e){c.push(e.id)})),P(c)):console.error("Error status: ".concat(a.status.toString())),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.error("ERROR ERROR: ".concat(e.t0));case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://www.outdooractive.com/api/project/api-dev-oa/oois/".concat(t,"?key=yourtest-outdoora-ctiveapi&display=list"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{Accept:"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,"200"===a.status.toString()?(console.log(n.tour),g(n.tour)):console.error("[getTourData] Error fetching tour data from API: Status ".concat(a.status.toString())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("[getTourData] Error fetching tour data from API: Status ".concat(e.t0));case 13:S(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){y(!1),a([].concat(Object(d.a)(t),[{id:e.id,title:e.title,elevation:e.elevation.maxAltitude,date:(new Date).toLocaleString(),distance:M(e.length/1e3,1),duration:M(e.time.min/60,2),ascent:e.elevation.ascent,descent:e.elevation.descent}]))},M=function(e,t){var a=Math.pow(10,t||0);return Math.round(e*a)/a},U=function(e){if(!Array.isArray(e))return!0};return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"searchbox"},c.a.createElement("input",{className:"searchbox__input text",type:"text",id:"searchbox",value:m,placeholder:"Tour hinzuf\xfcgen ...",onChange:function(e){R(!0),v(e.target.value)}}),L?c.a.createElement("div",{className:"searchbox__btn"},c.a.createElement("span",{onClick:function(e){v(""),R(!1),y(!1)}},c.a.createElement(s.a,{icon:l.f}))):null,c.a.createElement("button",{className:"searchbox__btn",onClick:function(e){!function(e){e.preventDefault(),y(!0),W(m)}(e)}},c.a.createElement(s.a,{icon:l.b}))),x&&k&&C,x&&!k&&c.a.createElement("div",{className:"searchbox__results"},U(b)?T:b.map((function(e){return c.a.createElement("div",{key:e.id,className:"searchbox__item-wrapper",onClick:function(t){D(e)}},c.a.createElement(u,{tour:{id:e.id,title:e.title,elevation:e.elevation.maxAltitude,date:(new Date).toLocaleString(),distance:M(e.length/1e3,1),duration:M(e.time.min/60,2),ascent:e.elevation.ascent,descent:e.elevation.descent}}))}))))}),h=(a(29),function(e){var t=e.list,a=e.setList;return c.a.createElement("div",{className:"bar"},c.a.createElement(v,{list:t,setList:a}))}),E=(a(30),a(6)),b=a(13);E.b.add(b.a,l.b,l.e);var g=function(){var e=Object(n.useState)([{id:null,title:"",elevation:null,date:"",distance:null,duration:null,ascent:null,descent:null}]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),l=s[0],d=s[1];Object(n.useEffect)((function(){r([{id:0,title:"Schoberstein",elevation:1286,date:"20.06.2020",distance:12,duration:2,ascent:12,descent:12}]),console.log("UseEffect tourList: first time update Statistics"),d(m)}),[]),Object(n.useEffect)((function(){console.log("UseEffect tourList: update Statistics"),d(m)}),[a]);var m=function(){var e=0,t=0,n=0;return console.log(a),a.map((function(a){e+=a.distance,t+=a.ascent,n+=a.descent})),{distance:e,ascent:t,descent:n}};return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"app__header"},c.a.createElement(h,{list:a,setList:r})),c.a.createElement("div",{className:"app__content"},c.a.createElement("div",{className:"app__box"},c.a.createElement("h3",{className:"heading"},"Meine Statistik"),c.a.createElement(u,{tour:{id:0,elevation:0,date:null,title:"",distance:l.distance,duration:0,ascent:l.ascent,descent:l.descent}})),c.a.createElement("div",{className:"app__box"},c.a.createElement("h3",{className:"heading"},"Meine Touren"),c.a.createElement("div",{className:"tours__list"},a.map((function(e){return c.a.createElement(u,{key:e.id,tour:{id:e.id,elevation:e.elevation,date:e.date,title:e.title,distance:e.distance,duration:e.duration,ascent:e.ascent,descent:e.descent}})}))))))},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");w?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):x(t,e)}))}}function x(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y=function(){o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),_()};window.cordova?document.addEventListener("deviceready",y,!1):y()}},[[15,1,2]]]);
//# sourceMappingURL=main.beb20ae5.chunk.js.map